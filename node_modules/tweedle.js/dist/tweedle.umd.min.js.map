{"version":3,"file":"tweedle.umd.min.js","sources":["../src/Now.ts","../src/Group.ts","../src/Easing.ts","../src/Interpolation.ts","../src/Sequence.ts","../src/Tween.ts","../src/Version.ts"],"sourcesContent":["/**\n * Polyfilled function to get the current time in miliseconds.\n * It tries to use `process.hrtime()`, `performance.now()`, `Date.now()` or `new Date().getTime()` in that order.\n */\nexport let NOW: () => number;\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\n\n// @ts-ignore\nif (typeof self == \"undefined\" && typeof process !== \"undefined\" && process.hrtime) {\n\tNOW = function (): number {\n\t\t// @ts-ignore\n\t\tconst time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof self !== \"undefined\" && self.performance !== undefined && self.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tNOW = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tNOW = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tNOW = function (): number {\n\t\treturn new Date().getTime();\n\t};\n}\n","import { NOW } from \"./Now\";\nimport type { Tween } from \"./Tween\";\n\n/**\n * A group is a class that allows you to manage many tweens from one place.\n *\n * A tween will ALWAYS belong to a group. If no group is assigned it will default to the static shared group: `Group.shared`.\n */\nexport class Group {\n\tprivate _tweens: {\n\t\t[key: string]: Tween<any>;\n\t} = {};\n\n\tprivate static _shared: Group;\n\n\t/**\n\t * A tween without an explicit group will default to this shared static one.\n\t */\n\tpublic static get shared(): Group {\n\t\tif (!Group._shared) {\n\t\t\tGroup._shared = new Group();\n\t\t}\n\t\treturn Group._shared;\n\t}\n\n\tprivate _paused: boolean = false;\n\n\t/**\n\t * A paused group will skip updating all the asociated tweens.\n\t * _To control all tweens, use {@link Group.getAll} to get an array with all tweens._\n\t * @returns returns true if this group is paused.\n\t */\n\tpublic isPaused(): boolean {\n\t\treturn this._paused;\n\t}\n\n\t/**\n\t * Pauses this group. If a group was already paused, this has no effect.\n\t * A paused group will skip updating all the asociated tweens.\n\t * _To control all tweens, use {@link Group.getAll} to get an array with all tweens._\n\t */\n\tpublic pause(): void {\n\t\tthis._paused = true;\n\t}\n\n\t/**\n\t * Resumes this group. If a group was not paused, this has no effect.\n\t * A paused group will skip updating all the asociated tweens.\n\t * _To control all tweens, use {@link Group.getAll} to get an array with all tweens._\n\t */\n\tpublic resume(): void {\n\t\tthis._paused = false;\n\t}\n\n\tprivate _lastUpdateTime: number = undefined;\n\n\t/**\n\t * Function used by the group to know what time is it.\n\t * Used to calculate the deltaTime in case you call update without the parameter.\n\t */\n\tpublic now: () => number = NOW; // used to calculate deltatime in case you stop providing one\n\n\t/**\n\t * Returns all the tweens in this group.\n\t *\n\t * _note: only **running** tweens are in a group._\n\t * @returns all the running tweens.\n\t */\n\tpublic getAll(): Array<Tween<any>> {\n\t\treturn Object.keys(this._tweens).map((tweenId) => this._tweens[tweenId]);\n\t}\n\n\t/**\n\t * Removes all the tweens in this group.\n\t *\n\t * _note: this will not modify the group reference inside the tween object_\n\t */\n\tpublic removeAll(): void {\n\t\tthis._tweens = {};\n\t}\n\n\t/**\n\t * Adds a tween to this group.\n\t *\n\t * _note: this will not modify the group reference inside the tween object_\n\t * @param tween Tween to add.\n\t */\n\tpublic add(tween: Tween<any>): void {\n\t\tthis._tweens[tween.getId()] = tween;\n\t}\n\n\t/**\n\t * Removes a tween from this group.\n\t *\n\t * _note: this will not modify the group reference inside the tween object_\n\t * @param tween\n\t */\n\tpublic remove(tween: Tween<any>): void {\n\t\tdelete this._tweens[tween.getId()];\n\t}\n\n\t/**\n\t * Updates all the tweens in this group.\n\t *\n\t * If a tween is stopped, paused, finished or non started it will be removed from the group.\n\t *\n\t *  Tweens are updated in \"batches\". If you add a new tween during an\n\t *  update, then the new tween will be updated in the next batch.\n\t *  If you remove a tween during an update, it may or may not be updated.\n\t *  However, if the removed tween was added during the current batch,\n\t *  then it will not be updated.\n\t * @param deltaTime - Amount of **miliseconds** that have passed since last excecution. If not provided it will be calculated using the {@link Group.now} function\n\t * @param preserve - Prevent the removal of stopped, paused, finished or non started tweens.\n\t * @returns returns true if the group is not empty and it is not paused.\n\t */\n\tpublic update(deltaTime?: number, preserve: boolean = false): boolean {\n\t\t// move forward the automatic dt if needed\n\t\tif (deltaTime == undefined) {\n\t\t\t// now varies from line to line, that's why I manually use 0 as dt\n\t\t\tif (this._lastUpdateTime == undefined) {\n\t\t\t\tthis._lastUpdateTime = this.now();\n\t\t\t\tdeltaTime = 0;\n\t\t\t} else {\n\t\t\t\tdeltaTime = this.now() - this._lastUpdateTime;\n\t\t\t}\n\t\t}\n\t\tthis._lastUpdateTime = this.now();\n\n\t\t// exit early if the entire group is paused\n\t\tif (this._paused) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst tweenIds = Object.keys(this._tweens);\n\t\tif (tweenIds.length == 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (let i = 0; i < tweenIds.length; i++) {\n\t\t\tconst tween = this._tweens[tweenIds[i]];\n\n\t\t\t// groups call the preserve with true because they like to delete themselves in a different way.\n\t\t\tif (tween && tween.update(deltaTime, true) == false && !preserve) {\n\t\t\t\tdelete this._tweens[tweenIds[i]];\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n}\n","/**\n * The type for a function that takes a number between 0 and 1 and returns another number between 0 and 1\n */\nexport type EasingFunction = (amount: number) => number;\n\n/**\n * The Ease class provides a collection of easing functions.\n *\n * These functions take in a parameter between 0 and 1 as the ratio and give out a new ratio.\n *\n * These are [Robert Penner](http://www.robertpenner.com/easing_terms_of_use.html)'s optimized formulas.\n *\n * Need help picking one? [Check this out!](https://easings.net/)\n */\nexport const Easing = {\n\tStep: {\n\t\tNone(amount: number): number {\n\t\t\treturn amount < 0.5 ? 0 : 1;\n\t\t},\n\t},\n\tLinear: {\n\t\tNone(amount: number): number {\n\t\t\treturn amount;\n\t\t},\n\t},\n\tQuadratic: {\n\t\tIn(amount: number): number {\n\t\t\treturn amount * amount;\n\t\t},\n\t\tOut(amount: number): number {\n\t\t\treturn amount * (2 - amount);\n\t\t},\n\t\tInOut(amount: number): number {\n\t\t\tif ((amount *= 2) < 1) {\n\t\t\t\treturn 0.5 * amount * amount;\n\t\t\t}\n\n\t\t\treturn -0.5 * (--amount * (amount - 2) - 1);\n\t\t},\n\t},\n\tCubic: {\n\t\tIn(amount: number): number {\n\t\t\treturn amount * amount * amount;\n\t\t},\n\t\tOut(amount: number): number {\n\t\t\treturn --amount * amount * amount + 1;\n\t\t},\n\t\tInOut(amount: number): number {\n\t\t\tif ((amount *= 2) < 1) {\n\t\t\t\treturn 0.5 * amount * amount * amount;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((amount -= 2) * amount * amount + 2);\n\t\t},\n\t},\n\tQuartic: {\n\t\tIn(amount: number): number {\n\t\t\treturn amount * amount * amount * amount;\n\t\t},\n\t\tOut(amount: number): number {\n\t\t\treturn 1 - --amount * amount * amount * amount;\n\t\t},\n\t\tInOut(amount: number): number {\n\t\t\tif ((amount *= 2) < 1) {\n\t\t\t\treturn 0.5 * amount * amount * amount * amount;\n\t\t\t}\n\n\t\t\treturn -0.5 * ((amount -= 2) * amount * amount * amount - 2);\n\t\t},\n\t},\n\tQuintic: {\n\t\tIn(amount: number): number {\n\t\t\treturn amount * amount * amount * amount * amount;\n\t\t},\n\t\tOut(amount: number): number {\n\t\t\treturn --amount * amount * amount * amount * amount + 1;\n\t\t},\n\t\tInOut(amount: number): number {\n\t\t\tif ((amount *= 2) < 1) {\n\t\t\t\treturn 0.5 * amount * amount * amount * amount * amount;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((amount -= 2) * amount * amount * amount * amount + 2);\n\t\t},\n\t},\n\tSinusoidal: {\n\t\tIn(amount: number): number {\n\t\t\treturn 1 - Math.cos((amount * Math.PI) / 2);\n\t\t},\n\t\tOut(amount: number): number {\n\t\t\treturn Math.sin((amount * Math.PI) / 2);\n\t\t},\n\t\tInOut(amount: number): number {\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * amount));\n\t\t},\n\t},\n\tExponential: {\n\t\tIn(amount: number): number {\n\t\t\treturn amount == 0 ? 0 : Math.pow(1024, amount - 1);\n\t\t},\n\t\tOut(amount: number): number {\n\t\t\treturn amount == 1 ? 1 : 1 - Math.pow(2, -10 * amount);\n\t\t},\n\t\tInOut(amount: number): number {\n\t\t\tif (amount == 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (amount == 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((amount *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, amount - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (-Math.pow(2, -10 * (amount - 1)) + 2);\n\t\t},\n\t},\n\tCircular: {\n\t\tIn(amount: number): number {\n\t\t\treturn 1 - Math.sqrt(1 - amount * amount);\n\t\t},\n\t\tOut(amount: number): number {\n\t\t\treturn Math.sqrt(1 - --amount * amount);\n\t\t},\n\t\tInOut(amount: number): number {\n\t\t\tif ((amount *= 2) < 1) {\n\t\t\t\treturn -0.5 * (Math.sqrt(1 - amount * amount) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (amount -= 2) * amount) + 1);\n\t\t},\n\t},\n\tElastic: {\n\t\tIn(amount: number): number {\n\t\t\tif (amount == 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (amount == 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n\t\t},\n\t\tOut(amount: number): number {\n\t\t\tif (amount == 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (amount == 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * amount) * Math.sin((amount - 0.1) * 5 * Math.PI) + 1;\n\t\t},\n\t\tInOut(amount: number): number {\n\t\t\tif (amount == 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (amount == 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tamount *= 2;\n\n\t\t\tif (amount < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI) + 1;\n\t\t},\n\t},\n\tBack: {\n\t\tIn(amount: number): number {\n\t\t\tconst s = 1.70158;\n\n\t\t\treturn amount * amount * ((s + 1) * amount - s);\n\t\t},\n\t\tOut(amount: number): number {\n\t\t\tconst s = 1.70158;\n\n\t\t\treturn --amount * amount * ((s + 1) * amount + s) + 1;\n\t\t},\n\t\tInOut(amount: number): number {\n\t\t\tconst s = 1.70158 * 1.525;\n\n\t\t\tif ((amount *= 2) < 1) {\n\t\t\t\treturn 0.5 * (amount * amount * ((s + 1) * amount - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((amount -= 2) * amount * ((s + 1) * amount + s) + 2);\n\t\t},\n\t},\n\tBounce: {\n\t\tIn(amount: number): number {\n\t\t\treturn 1 - Easing.Bounce.Out(1 - amount);\n\t\t},\n\t\tOut(amount: number): number {\n\t\t\tif (amount < 1 / 2.75) {\n\t\t\t\treturn 7.5625 * amount * amount;\n\t\t\t} else if (amount < 2 / 2.75) {\n\t\t\t\treturn 7.5625 * (amount -= 1.5 / 2.75) * amount + 0.75;\n\t\t\t} else if (amount < 2.5 / 2.75) {\n\t\t\t\treturn 7.5625 * (amount -= 2.25 / 2.75) * amount + 0.9375;\n\t\t\t}\n\n\t\t\treturn 7.5625 * (amount -= 2.625 / 2.75) * amount + 0.984375;\n\t\t},\n\t\tInOut(amount: number): number {\n\t\t\tif (amount < 0.5) {\n\t\t\t\treturn Easing.Bounce.In(amount * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn Easing.Bounce.Out(amount * 2 - 1) * 0.5 + 0.5;\n\t\t},\n\t},\n};\n","/**\n * The type for a function that picks a value by interpolating the elements of the array given.\n */\nexport type InterpolationFunction = (v: number[], k: number) => number;\n\n/**\n * Object containing common interpolation functions.\n * These functions can be passed in the {@link Tween.interpolation} argument and **will only affect fields where you gave an array as target value**\n */\nexport const Interpolation = {\n\t/**\n\t * Geometric interpolation functions. Good for interpolating positions in space.\n\t */\n\tGeom: {\n\t\t/**\n\t\t * Linear interpolation is like drawing straight lines between the points.\n\t\t */\n\t\tLinear(v: number[], k: number): number {\n\t\t\tconst m = v.length - 1;\n\t\t\tconst f = m * k;\n\t\t\tconst i = Math.floor(f);\n\t\t\tconst fn = Interpolation.Utils.Linear;\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn fn(v[0], v[1], f);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t\t}\n\n\t\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\t\t},\n\n\t\t/**\n\t\t * A BÃ©zier curve is defined by a set of control points P0 through Pn, where n is called its order.\n\t\t * The first and last control points are always the end points of the curve; however, the intermediate control points (if any) generally do not lie on the curve.\n\t\t *\n\t\t * https://en.wikipedia.org/wiki/B%C3%A9zier_curve#Explicit_definition\n\t\t */\n\t\tBezier(v: number[], k: number): number {\n\t\t\tlet b = 0;\n\t\t\tconst n = v.length - 1;\n\t\t\tconst pw = Math.pow;\n\t\t\tconst bn = Interpolation.Utils.Bernstein;\n\n\t\t\tfor (let i = 0; i <= n; i++) {\n\t\t\t\tb += bn(n, i) * pw(1 - k, n - i) * pw(k, i) * v[i];\n\t\t\t}\n\n\t\t\treturn b;\n\t\t},\n\n\t\t/**\n\t\t * Assumes your points are a succession of quadratic bezier curves where the endpoint of one is the start point of the next one.\n\t\t * for example: `[Point in the curve, Control point, Point in the curve, Control point, Point in the curve]`\n\t\t */\n\t\tQuadraticBezier(v: number[], k: number): number {\n\t\t\tlet b = 0;\n\t\t\tconst n = v.length - 1;\n\n\t\t\tif (k == 1) {\n\t\t\t\treturn v[n];\n\t\t\t}\n\n\t\t\tconst pw = Math.pow;\n\t\t\tconst bn = Interpolation.Utils.Bernstein;\n\n\t\t\tconst f = n * k;\n\t\t\tconst i = Math.floor(f);\n\t\t\tconst t = (f - i) * 0.5 + 0.5 * (i % 2);\n\t\t\tconst i0: number = i - (i % 2);\n\t\t\tconst i1: number = i0 + 1;\n\t\t\tconst i2: number = i0 + 2;\n\n\t\t\tb += bn(2, 0) * pw(1 - t, 2 - 0) * pw(t, 0) * v[i0];\n\t\t\tb += bn(2, 1) * pw(1 - t, 2 - 1) * pw(t, 1) * v[i1];\n\t\t\tb += bn(2, 2) * pw(1 - t, 2 - 2) * pw(t, 2) * v[i2];\n\n\t\t\treturn b;\n\t\t},\n\n\t\t/**\n\t\t * Assumes your points are a succession of cubic bezier curves where the endpoint of one is the start point of the next one.\n\t\t * for example: `[Point in the curve, Control point, Control point, Point in the curve, Control point, Control point, Point in the curve]`\n\t\t */\n\t\tCubicBezier(v: number[], k: number): number {\n\t\t\tlet b = 0;\n\t\t\tconst n = v.length - 1;\n\n\t\t\tif (k == 1) {\n\t\t\t\treturn v[n];\n\t\t\t}\n\n\t\t\tconst pw = Math.pow;\n\t\t\tconst bn = Interpolation.Utils.Bernstein;\n\n\t\t\tconst f = n * k;\n\t\t\tconst i = Math.floor(f);\n\n\t\t\tconst t = (f - i) * (1 / 3) + (1 / 3) * (i % 3);\n\n\t\t\tconst i0: number = i - (i % 3);\n\t\t\tconst i1: number = i0 + 1;\n\t\t\tconst i2: number = i0 + 2;\n\t\t\tconst i3: number = i0 + 3;\n\n\t\t\tb += bn(3, 0) * pw(1 - t, 3 - 0) * pw(t, 0) * v[i0];\n\t\t\tb += bn(3, 1) * pw(1 - t, 3 - 1) * pw(t, 1) * v[i1];\n\t\t\tb += bn(3, 2) * pw(1 - t, 3 - 2) * pw(t, 2) * v[i2];\n\t\t\tb += bn(3, 3) * pw(1 - t, 3 - 3) * pw(t, 3) * v[i3];\n\n\t\t\treturn b;\n\t\t},\n\n\t\t/**\n\t\t * A Catmullrom spline is a curve where the original set of points is also used as control points.\n\t\t * Usually Catmullrom splines need two extra elements at the beginning and the end of the point set. This function contemplates that and doesn't need them.\n\t\t *\n\t\t * https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Catmull%E2%80%93Rom_spline\n\t\t */\n\t\tCatmullRom(v: number[], k: number): number {\n\t\t\tconst m = v.length - 1;\n\t\t\tlet f = m * k;\n\t\t\tlet i = Math.floor(f);\n\t\t\tconst fn = Interpolation.Utils.CatmullRom;\n\n\t\t\tif (v[0] == v[m]) {\n\t\t\t\tif (k < 0) {\n\t\t\t\t\ti = Math.floor((f = m * (1 + k)));\n\t\t\t\t}\n\n\t\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\t\t\t}\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\t\t},\n\t},\n\t/**\n\t * Given the spinny nature of angles, sometimes it's better to go back to get to the right place earlier.\n\t * This functions help with that.\n\t */\n\tAngle: {\n\t\t/**\n\t\t * Normalizes angles between 0 and 2pi and then rotates the object in the shortest direction.\n\t\t */\n\t\tRadians(v: number[], k: number): number {\n\t\t\tconst m = v.length - 1;\n\t\t\tconst f = m * k;\n\t\t\tconst i = Math.floor(f);\n\t\t\tconst fn = Interpolation.Utils.WrapLinear;\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn fn(v[0], v[1], f, 2 * Math.PI);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn fn(v[m], v[m - 1], m - f, 2 * Math.PI);\n\t\t\t}\n\n\t\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i, 2 * Math.PI);\n\t\t},\n\n\t\t/**\n\t\t * Normalizes angles between 0 and 360 and then rotates the object in the shortest direction.\n\t\t */\n\t\tDegrees(v: number[], k: number): number {\n\t\t\tconst m = v.length - 1;\n\t\t\tconst f = m * k;\n\t\t\tconst i = Math.floor(f);\n\t\t\tconst fn = Interpolation.Utils.WrapLinear;\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn fn(v[0], v[1], f, 360);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn fn(v[m], v[m - 1], m - f, 360);\n\t\t\t}\n\n\t\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i, 360);\n\t\t},\n\t},\n\n\t/**\n\t * Even if colors are numbers, interpolating them can be tricky.\n\t */\n\tColor: {\n\t\t/**\n\t\t * Interpolates the color by their channels Red, Green, and Blue.\n\t\t */\n\t\tRGB(v: number[], k: number): number {\n\t\t\tconst m = v.length - 1;\n\t\t\tconst f = m * k;\n\t\t\tconst i = Math.floor(f);\n\t\t\tconst fn = Interpolation.Utils.RGBLinear;\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn fn(v[0], v[1], f);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t\t}\n\n\t\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\t\t},\n\n\t\t/**\n\t\t * Interpolates the color by their Hue, Saturation, and Value.\n\t\t */\n\t\tHSV(v: number[], k: number): number {\n\t\t\tconst m = v.length - 1;\n\t\t\tconst f = m * k;\n\t\t\tconst i = Math.floor(f);\n\t\t\tconst fn = Interpolation.Utils.HSVLinear;\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn fn(v[0], v[1], f);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t\t}\n\n\t\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\t\t},\n\n\t\t/**\n\t\t * Interpolates the color by their Hue, Chroma, and Lightness.\n\t\t */\n\t\tHCL(v: number[], k: number): number {\n\t\t\tconst m = v.length - 1;\n\t\t\tconst f = m * k;\n\t\t\tconst i = Math.floor(f);\n\t\t\tconst fn = Interpolation.Utils.HCLLinear;\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn fn(v[0], v[1], f);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t\t}\n\n\t\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\t\t},\n\t},\n\n\t/**\n\t * Helper functions used to calculate the different interpolations\n\t */\n\tUtils: {\n\t\tRGBsplit(color: number): ARGB {\n\t\t\t// this gets named ARGB but it is actually meaningless. It will work with RGBA just the same.\n\t\t\tconst a = (color >> 24) & 0xff;\n\t\t\tconst r = (color >> 16) & 0xff;\n\t\t\tconst g = (color >> 8) & 0xff;\n\t\t\tconst b = color & 0xff;\n\t\t\treturn { a, r, g, b };\n\t\t},\n\t\tHSVsplit(color: number): AHSV {\n\t\t\tconst rgb = Interpolation.Utils.RGBsplit(color);\n\n\t\t\t(rgb.r /= 255), (rgb.g /= 255), (rgb.b /= 255);\n\n\t\t\tconst max = Math.max(rgb.r, rgb.g, rgb.b);\n\t\t\tconst min = Math.min(rgb.r, rgb.g, rgb.b);\n\t\t\tlet h;\n\t\t\tconst v = max;\n\n\t\t\tconst d = max - min;\n\t\t\tconst s = max == 0 ? 0 : d / max;\n\n\t\t\tif (max == min) {\n\t\t\t\th = 0; // achromatic\n\t\t\t} else {\n\t\t\t\tswitch (max) {\n\t\t\t\t\tcase rgb.r:\n\t\t\t\t\t\th = (rgb.g - rgb.b) / d + (rgb.g < rgb.b ? 6 : 0);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase rgb.g:\n\t\t\t\t\t\th = (rgb.b - rgb.r) / d + 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase rgb.b:\n\t\t\t\t\t\th = (rgb.r - rgb.g) / d + 4;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\th /= 6;\n\t\t\t}\n\n\t\t\treturn { a: rgb.a, h, s, v };\n\t\t},\n\t\tHSVJoin(color: AHSV): number {\n\t\t\tlet r, g, b;\n\n\t\t\tconst i = Math.floor(color.h * 6);\n\t\t\tconst f = color.h * 6 - i;\n\t\t\tconst p = color.v * (1 - color.s);\n\t\t\tconst q = color.v * (1 - f * color.s);\n\t\t\tconst t = color.v * (1 - (1 - f) * color.s);\n\n\t\t\tswitch (i % 6) {\n\t\t\t\tcase 0:\n\t\t\t\t\t(r = color.v), (g = t), (b = p);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\t(r = q), (g = color.v), (b = p);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\t(r = p), (g = color.v), (b = t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\t(r = p), (g = q), (b = color.v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\t(r = t), (g = p), (b = color.v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\t(r = color.v), (g = p), (b = q);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn (color.a << 24) | (r << 16) | (g << 8) | b;\n\t\t},\n\n\t\tHCLSplit(color: number): AHCL {\n\t\t\t/* https://www.chilliant.com/rgb2hsv.html */\n\t\t\tconst HCLgamma = 3;\n\t\t\tconst HCLy0 = 100;\n\t\t\tconst HCLmaxL = 0.530454533953517; // == exp(HCLgamma / HCLy0) - 0.5\n\n\t\t\tconst RGB = Interpolation.Utils.RGBsplit(color);\n\t\t\tconst HCL: AHCL = { a: RGB.a, h: 0, c: 0, l: 0 };\n\t\t\tlet H = 0;\n\t\t\tconst U = Math.min(RGB.r, Math.min(RGB.g, RGB.b));\n\t\t\tconst V = Math.max(RGB.r, Math.max(RGB.g, RGB.b));\n\t\t\tlet Q = HCLgamma / HCLy0;\n\t\t\tHCL.c = V - U;\n\t\t\tif (HCL.c != 0) {\n\t\t\t\tH = Math.atan2(RGB.g - RGB.b, RGB.r - RGB.g) / Math.PI;\n\t\t\t\tQ *= U / V;\n\t\t\t}\n\t\t\tQ = Math.exp(Q);\n\t\t\tHCL.h = (H / 2 - Math.min(H % 1, -H % 1) / 6) % 1;\n\t\t\tHCL.c *= Q;\n\t\t\tHCL.l = Interpolation.Utils.Linear(-U, V, Q) / (HCLmaxL * 2);\n\t\t\treturn HCL;\n\t\t},\n\n\t\tHCLJoin(HCL: AHCL): number {\n\t\t\t/* https://www.chilliant.com/rgb2hsv.html */\n\t\t\tconst HCLgamma = 3;\n\t\t\tconst HCLy0 = 100;\n\t\t\tconst HCLmaxL = 0.530454533953517; // == exp(HCLgamma / HCLy0) - 0.5\n\t\t\tconst RGB: ARGB = { a: HCL.a, r: 0, g: 0, b: 0 };\n\n\t\t\tif (HCL.l != 0) {\n\t\t\t\tlet H = HCL.h;\n\t\t\t\tconst C = HCL.c;\n\t\t\t\tconst L = HCL.l * HCLmaxL;\n\t\t\t\tconst Q = Math.exp((1 - C / (2 * L)) * (HCLgamma / HCLy0));\n\t\t\t\tconst U = (2 * L - C) / (2 * Q - 1);\n\t\t\t\tconst V = C / Q;\n\t\t\t\tconst A = (H + Math.min(((2 * H) % 1) / 4, ((-2 * H) % 1) / 8)) * Math.PI * 2;\n\t\t\t\tlet T;\n\t\t\t\tH *= 6;\n\t\t\t\tif (H <= 0.999) {\n\t\t\t\t\tT = Math.tan(A);\n\t\t\t\t\tRGB.r = 1;\n\t\t\t\t\tRGB.g = T / (1 + T);\n\t\t\t\t} else if (H <= 1.001) {\n\t\t\t\t\tRGB.r = 1;\n\t\t\t\t\tRGB.g = 1;\n\t\t\t\t} else if (H <= 2) {\n\t\t\t\t\tT = Math.tan(A);\n\t\t\t\t\tRGB.r = (1 + T) / T;\n\t\t\t\t\tRGB.g = 1;\n\t\t\t\t} else if (H <= 3) {\n\t\t\t\t\tT = Math.tan(A);\n\t\t\t\t\tRGB.g = 1;\n\t\t\t\t\tRGB.b = 1 + T;\n\t\t\t\t} else if (H <= 3.999) {\n\t\t\t\t\tT = Math.tan(A);\n\t\t\t\t\tRGB.g = 1 / (1 + T);\n\t\t\t\t\tRGB.b = 1;\n\t\t\t\t} else if (H <= 4.001) {\n\t\t\t\t\tRGB.g = 0;\n\t\t\t\t\tRGB.b = 1;\n\t\t\t\t} else if (H <= 5) {\n\t\t\t\t\tT = Math.tan(A);\n\t\t\t\t\tRGB.r = -1 / T;\n\t\t\t\t\tRGB.b = 1;\n\t\t\t\t} else {\n\t\t\t\t\tT = Math.tan(A);\n\t\t\t\t\tRGB.r = 1;\n\t\t\t\t\tRGB.b = -T;\n\t\t\t\t}\n\t\t\t\tRGB.r = RGB.r * V + U;\n\t\t\t\tRGB.g = RGB.g * V + U;\n\t\t\t\tRGB.b = RGB.b * V + U;\n\t\t\t}\n\t\t\treturn (RGB.a << 24) | (RGB.r << 16) | (RGB.g << 8) | RGB.b;\n\t\t},\n\n\t\tWrapLinear(value1: number, value2: number, t: number, maxValue: number): number {\n\t\t\tlet retval: number;\n\n\t\t\t// this fixes my values to be between 0 and maxvalue.\n\t\t\tvalue1 = (value1 + maxValue * Math.trunc(Math.abs(value1 / maxValue))) % maxValue;\n\t\t\tvalue2 = (value2 + maxValue * Math.trunc(Math.abs(value2 / maxValue))) % maxValue;\n\n\t\t\tif (Math.abs(value1 - value2) <= 0.5 * maxValue) {\n\t\t\t\tretval = Interpolation.Utils.Linear(value1, value2, t);\n\t\t\t} else {\n\t\t\t\tif (value1 < value2) {\n\t\t\t\t\tretval = Interpolation.Utils.Linear(value1 + maxValue, value2, t);\n\t\t\t\t} else {\n\t\t\t\t\tretval = Interpolation.Utils.Linear(value1, value2 + maxValue, t);\n\t\t\t\t}\n\t\t\t\tretval = retval % maxValue;\n\t\t\t}\n\t\t\treturn retval;\n\t\t},\n\n\t\tRGBLinear(color1: number, color2: number, t: number): number {\n\t\t\tconst argb1 = Interpolation.Utils.RGBsplit(color1);\n\t\t\tconst argb2 = Interpolation.Utils.RGBsplit(color2);\n\t\t\tconst a = Interpolation.Utils.Linear(argb1.a, argb2.a, t);\n\t\t\tconst r = Interpolation.Utils.Linear(argb1.r, argb2.r, t);\n\t\t\tconst g = Interpolation.Utils.Linear(argb1.g, argb2.g, t);\n\t\t\tconst b = Interpolation.Utils.Linear(argb1.b, argb2.b, t);\n\t\t\treturn (a << 24) | (r << 16) | (g << 8) | b;\n\t\t},\n\t\tHSVLinear(color1: number, color2: number, t: number): number {\n\t\t\tconst ahsv1 = Interpolation.Utils.HSVsplit(color1);\n\t\t\tconst ahsv2 = Interpolation.Utils.HSVsplit(color2);\n\t\t\tlet h: number;\n\t\t\tif (Math.abs(ahsv1.h - ahsv2.h) <= 0.5) {\n\t\t\t\th = Interpolation.Utils.Linear(ahsv1.h, ahsv2.h, t);\n\t\t\t} else {\n\t\t\t\tif (ahsv1.h < ahsv2.h) {\n\t\t\t\t\th = Interpolation.Utils.Linear(ahsv1.h + 1, ahsv2.h, t);\n\t\t\t\t} else {\n\t\t\t\t\th = Interpolation.Utils.Linear(ahsv1.h, ahsv2.h + 1, t);\n\t\t\t\t}\n\t\t\t\th = h % 1;\n\t\t\t}\n\t\t\tconst s = Interpolation.Utils.Linear(ahsv1.s, ahsv2.s, t);\n\t\t\tconst v = Interpolation.Utils.Linear(ahsv1.v, ahsv2.v, t);\n\t\t\tconst a = Interpolation.Utils.Linear(ahsv1.a, ahsv2.a, t); // alpha can't be done with hsv\n\t\t\treturn Interpolation.Utils.HSVJoin({ a, h, s, v });\n\t\t},\n\t\tHCLLinear(color1: number, color2: number, t: number): number {\n\t\t\tconst ahcl1 = Interpolation.Utils.HCLSplit(color1);\n\t\t\tconst ahcl2 = Interpolation.Utils.HCLSplit(color2);\n\t\t\tlet h: number;\n\t\t\tif (Math.abs(ahcl1.h - ahcl2.h) <= 0.5) {\n\t\t\t\th = Interpolation.Utils.Linear(ahcl1.h, ahcl2.h, t);\n\t\t\t} else {\n\t\t\t\tif (ahcl1.h < ahcl2.h) {\n\t\t\t\t\th = Interpolation.Utils.Linear(ahcl1.h + 1, ahcl2.h, t);\n\t\t\t\t} else {\n\t\t\t\t\th = Interpolation.Utils.Linear(ahcl1.h, ahcl2.h + 1, t);\n\t\t\t\t}\n\t\t\t\th = h % 1;\n\t\t\t}\n\t\t\tconst s = Interpolation.Utils.Linear(ahcl1.c, ahcl2.c, t);\n\t\t\tconst v = Interpolation.Utils.Linear(ahcl1.l, ahcl2.l, t);\n\t\t\tconst a = Interpolation.Utils.Linear(ahcl1.a, ahcl2.a, t); // alpha can't be done with hsv\n\t\t\treturn Interpolation.Utils.HSVJoin({ a, h, s, v });\n\t\t},\n\n\t\tLinear(p0: number, p1: number, t: number): number {\n\t\t\treturn (p1 - p0) * t + p0;\n\t\t},\n\t\tBernstein(n: number, i: number): number {\n\t\t\tconst fc = Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\t\t},\n\t\tFactorial: (function () {\n\t\t\tconst a = [1];\n\n\t\t\treturn function (n: number): number {\n\t\t\t\tlet s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (let i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\n\t\t\t\treturn s;\n\t\t\t};\n\t\t})(),\n\n\t\tCatmullRom(p0: number, p1: number, p2: number, p3: number, t: number): number {\n\t\t\tconst v0 = (p2 - p0) * 0.5;\n\t\t\tconst v1 = (p3 - p1) * 0.5;\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\t\t},\n\t},\n};\n\n/**\n * ARGB color format\n * Alpha, Red, Green, Blue.\n */\nexport interface ARGB {\n\ta: number;\n\tr: number;\n\tg: number;\n\tb: number;\n}\n\n/**\n * HSV color format\n * Alpha, Hue, Saturation, Value.\n */\nexport interface AHSV {\n\ta: number;\n\th: number;\n\ts: number;\n\tv: number;\n}\n\n/**\n * HCL color format\n * Alpha, Hue, Chroma, Luminance.\n */\nexport interface AHCL {\n\ta: number;\n\th: number;\n\tc: number;\n\tl: number;\n}\n","/**\n * Silly class to have a shared number that goes up.\n */\nexport class Sequence {\n\tprivate static _nextId = 0;\n\n\tpublic static nextId(): number {\n\t\treturn Sequence._nextId++;\n\t}\n}\n","import { Easing, EasingFunction } from \"./Easing\";\nimport { Interpolation, InterpolationFunction } from \"./Interpolation\";\nimport { Group } from \"./Group\";\nimport { Sequence } from \"./Sequence\";\n\n/**\n * A Tween is basically an animation command.\n * For example: _Go from here to there in this amount of time._\n *\n * Tweens won't start by themselves. **Remeber to call {@link Tween.start} when you want your tweens to start!**\n *\n * Most methods will return the same object to allow for daisy chaining.\n * @template Target of the tween\n */\nexport class Tween<Target> {\n\tprivate _isPaused = false;\n\tprivate _valuesStart: any = {};\n\tprivate _valuesEnd: any = {};\n\tprivate _valuesStartRepeat: any = {};\n\tprivate _duration = 0;\n\tprivate _repeatCount = 0;\n\tprivate _repeat = 0;\n\tprivate _repeatDelayTime?: number;\n\tprivate _yoyo = false;\n\tprivate _isPlaying = false;\n\tprivate get _reversed(): boolean {\n\t\treturn this.yoyo && this._repeatCount % 2 !== 0;\n\t}\n\tprivate _delayTime = 0;\n\tprivate _startTime = 0;\n\tprivate _elapsedTime = 0;\n\tprivate _timescale = 1;\n\tprivate _safetyCheckFunction: (target: Target) => boolean = (_: Target) => true;\n\tprivate _easingFunction: EasingFunction = Easing.Linear.None;\n\tprivate _yoyoEasingFunction: EasingFunction = undefined;\n\tprivate _interpolationFunction: InterpolationFunction = Interpolation.Geom.Linear;\n\tprivate _chainedTweens: Array<Tween<any>> = [];\n\tprivate _onStartCallback?: (object: Target, tweenRef: this) => void;\n\tprivate _onStartCallbackFired = false;\n\tprivate _onAfterDelayCallback?: (object: Target, tweenRef: this) => void;\n\tprivate _onAfterDelayCallbackFired = false;\n\tprivate _onUpdateCallback?: (object: Target, elapsed: number, tweenRef: this) => void;\n\tprivate _onRepeatCallback?: (object: Target, repeatCount: number, tweenRef: this) => void;\n\tprivate _onCompleteCallback?: (object: Target, tweenRef: this) => void;\n\tprivate _onStopCallback?: (object: Target, tweenRef: this) => void;\n\tprivate _id = Sequence.nextId();\n\tprivate _isChainStopped = false;\n\tprivate _object: Target;\n\tprivate _groupRef: Group;\n\tprivate get _group(): Group {\n\t\tif (this._groupRef) {\n\t\t\treturn this._groupRef;\n\t\t} else {\n\t\t\treturn Group.shared;\n\t\t}\n\t}\n\tprivate set _group(value: Group) {\n\t\tthis._groupRef = value;\n\t}\n\n\t/**\n\t * Creates an instance of tween.\n\t * @param object - The target object which properties you want to animate\n\t * @param group - The {@link Group} this new Tween will belong to. If none is provided it will default to the static {@link Group.shared}\n\t */\n\tconstructor(object: Target, group?: Group) {\n\t\tthis._object = object;\n\t\tthis._group = group;\n\t}\n\n\t/**\n\t * Gets the id for this tween. A tween id is a number that increases perpetually with each tween created. It is used inside {@link Group} to keep track of tweens\n\t * @returns returns the id for this tween.\n\t */\n\tpublic getId(): number {\n\t\treturn this._id;\n\t}\n\n\t/**\n\t * Gets {@link Group} that this tween belongs to.\n\t * @returns returns the {@link Group} for this tween.\n\t */\n\tpublic getGroup(): Group {\n\t\treturn this._group;\n\t}\n\n\t/**\n\t * Gets the timescale for this tween. The timescale is a factor by which each deltatime is multiplied, allowing to speed up or slow down the tween.\n\t * @returns returns the timescale for this tween.\n\t */\n\tpublic getTimescale(): number {\n\t\treturn this._timescale;\n\t}\n\n\t/**\n\t * A tween is playing when it has been started but hasn't ended yet. This has nothing to do with pausing. For that see {@link Tween.isPaused}.\n\t * @returns returns true if this tween is playing.\n\t */\n\tpublic isPlaying(): boolean {\n\t\treturn this._isPlaying;\n\t}\n\n\t/**\n\t * A tween can only be paused if it was playing.\n\t * @returns returns true if this tween is paused.\n\t */\n\tpublic isPaused(): boolean {\n\t\treturn this._isPaused;\n\t}\n\n\t/**\n\t * Writes the starting values of the tween.\n\t *\n\t * **Starting values generated from {@link Tween.start} will be overwritten.**\n\t * @param properties - Starting values for this tween.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic from(properties: RecursivePartial<Target>): this;\n\tpublic from(properties: any): this;\n\tpublic from(properties: any): this {\n\t\ttry {\n\t\t\tJSON.stringify(properties);\n\t\t} catch (e) {\n\t\t\tthrow new Error(\"The object you provided to the from() method has a circular reference!\");\n\t\t}\n\t\tthis._setupProperties(properties, this._valuesStart, properties, this._valuesStartRepeat, true);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Set the final values for the target object's properties by copy.\n\t * This will try to create a deep copy of the `properties` parameter.\n\t * If you want the tween to keep a reference to the final values use {@link Tween.dynamicTo}.\n\t *\n\t * If an array value is provided for a value that originally wasn't an array, it will be interpreted as an interpolable curve and the values inside the array will be interpolated using the function provided in {@link Tween.interpolation}\n\t *\n\t * If a string value that starts with either `+` or `-`is provided it will be taken as a _relative value_ to the start value.\n\t * @param properties - final values for the target object.\n\t * @param duration - if given it will be used as the duration in **miliseconds**. if not, a call to {@link Tween.duration} will be needed.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic to(properties: RecursivePartial<Target>, duration?: number): this;\n\tpublic to(properties: any, duration?: number): this;\n\tpublic to(properties: any, duration?: number): this {\n\t\ttry {\n\t\t\tthis._valuesEnd = JSON.parse(JSON.stringify(properties));\n\t\t} catch (e) {\n\t\t\t// recursive object. this gonna crash!\n\t\t\tconsole.warn(\"The object you provided to the to() method has a circular reference!. It can't be cloned. Falling back to dynamic targeting\");\n\t\t\treturn this.dynamicTo(properties, duration);\n\t\t}\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Set the final values for the target object's properties by reference.\n\t * This will store a reference to the properties object allowing you to change the final values while the tween is running.\n\t * If you want the tween to make a copy of the final values use {@link Tween.to}.\n\t * @param properties - final values for the target object.\n\t * @param duration - if given it will be used as the duration in **miliseconds**. if not, a call to {@link Tween.duration} will be needed.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic dynamicTo(properties: RecursivePartial<Target>, duration?: number): this;\n\tpublic dynamicTo(properties: any, duration?: number): this;\n\tpublic dynamicTo(properties: any, duration?: number): this {\n\t\tthis._valuesEnd = properties; // JSON.parse(JSON.stringify(properties));\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the duration for this tween in **miliseconds**.\n\t * @param d - The duration for this tween in **miliseconds**.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic duration(d: number): this {\n\t\tthis._duration = d;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Tweens won't start by themselves when created. Call this to start the tween.\n\t * Starting values for the animation will be stored at this moment.\n\t *\n\t * **This function can't overwrite the starting values set by {@link Tween.from}**\n\t *\n\t * You can call this method on a finished tween to restart it without changing the starting values.\n\t * To restart a tween and reset the starting values use {@link Tween.restart}\n\t * @param delay - if given it will be used as the delay in **miliseconds**.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic start(delay?: number): this {\n\t\tif (this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif (delay != undefined) {\n\t\t\tthis._delayTime = delay;\n\t\t}\n\n\t\tthis._group.add(this);\n\n\t\tif (this._reversed) {\n\t\t\tthis._swapEndStartRepeatValues(this._valuesStartRepeat, this._valuesEnd);\n\t\t\tthis._valuesStart = JSON.parse(JSON.stringify(this._valuesStartRepeat));\n\t\t}\n\n\t\tthis._repeatCount = 0; // This must be after we check for the _reversed flag!!.\n\n\t\tthis._isPlaying = true;\n\n\t\tthis._isPaused = false;\n\n\t\tthis._onStartCallbackFired = false;\n\n\t\tthis._onAfterDelayCallbackFired = false;\n\n\t\tthis._isChainStopped = false;\n\n\t\tthis._startTime = -this._delayTime;\n\n\t\tthis._elapsedTime = 0;\n\n\t\tthis._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat, false);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @experimental\n\t * Forces a tween to restart.\n\t * Starting values for the animation will be stored at this moment.\n\t * This literally calls {@link Tween.reset} and then {@link Tween.start}.\n\t *\n\t * **Starting values will be cleared!. This function will erase all values created from {@link Tween.from} and/or {@link Tween.start}**\n\t * @param delay - if given it will be used as the delay in **miliseconds**.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic restart(delay?: number): this {\n\t\tthis.reset();\n\t\treturn this.start(delay);\n\t}\n\n\t/**\n\t * @experimental\n\t * Clears the starting and loop starting values.\n\t *\n\t * **Starting values will be cleared!. This function will erase all values created from {@link Tween.from} and/or {@link Tween.start}**\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic reset(): this {\n\t\tif (this._isPlaying) {\n\t\t\tthis.stop();\n\t\t}\n\t\tthis._valuesStart = {};\n\t\tthis._valuesStartRepeat = {};\n\t\treturn this;\n\t}\n\n\t/**\n\t * @experimental\n\t * Stops the tween and sets the values to the starting ones.\n\t *\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic rewind(): this {\n\t\tif (this._isPlaying) {\n\t\t\tthis.stop();\n\t\t}\n\n\t\tif (this._reversed) {\n\t\t\t// if you rewind from a reversed position, we unreverse.\n\t\t\tthis._swapEndStartRepeatValues(this._valuesStartRepeat, this._valuesEnd);\n\t\t}\n\n\t\tconst value = this._easingFunction(0);\n\n\t\t// properties transformations\n\t\tthis._updateProperties(this._object, this._valuesStart, this._valuesEnd, value);\n\n\t\treturn this;\n\t}\n\n\tprivate _setupProperties(_object: any, _valuesStart: any, _valuesEnd: any, _valuesStartRepeat: any, overwrite: boolean): void {\n\t\tfor (const property in _valuesEnd) {\n\t\t\tconst startValue = _object[property];\n\t\t\tconst startValueIsArray = Array.isArray(startValue);\n\t\t\tconst startValueIsNumber = !Number.isNaN(Number(startValue));\n\t\t\tconst propType = startValueIsArray ? \"array\" : typeof startValue;\n\t\t\tconst startValueIsObject = propType == \"object\";\n\t\t\tconst endValueIsObject = typeof _valuesEnd[property] == \"object\";\n\t\t\tconst isInterpolationList = !startValueIsArray && Array.isArray(_valuesEnd[property]);\n\n\t\t\t// If to() specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (propType == \"undefined\" || propType == \"function\" || _valuesEnd[property] == undefined || (!startValueIsArray && !startValueIsNumber && !startValueIsObject)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// handle the deepness of the values\n\t\t\tif ((startValueIsObject || startValueIsArray || endValueIsObject) && startValue && !isInterpolationList) {\n\t\t\t\tif (typeof _valuesStart[property] == \"undefined\") {\n\t\t\t\t\t_valuesStart[property] = startValueIsArray ? [] : {};\n\t\t\t\t}\n\t\t\t\tif (typeof _valuesStartRepeat[property] == \"undefined\") {\n\t\t\t\t\t_valuesStartRepeat[property] = startValueIsArray ? [] : {};\n\t\t\t\t}\n\n\t\t\t\tthis._setupProperties(startValue, _valuesStart[property], _valuesEnd[property], _valuesStartRepeat[property], overwrite);\n\t\t\t} else {\n\t\t\t\t// Save the starting value, but only once.\n\t\t\t\tif (typeof _valuesStart[property] == \"undefined\" || overwrite) {\n\t\t\t\t\t_valuesStart[property] = startValue;\n\t\t\t\t}\n\n\t\t\t\tif (typeof _valuesStartRepeat[property] == \"undefined\" || overwrite) {\n\t\t\t\t\tif (isInterpolationList) {\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesEnd[property].slice().reverse()[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesStart[property] || 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Stops this tween\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic stop(): this {\n\t\tif (!this._isChainStopped) {\n\t\t\tthis._isChainStopped = true;\n\t\t\tthis.stopChainedTweens();\n\t\t}\n\n\t\tif (!this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._group.remove(this);\n\n\t\tthis._isPlaying = false;\n\n\t\tthis._isPaused = false;\n\n\t\tif (this._onStopCallback) {\n\t\t\tthis._onStopCallback(this._object, this);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Fastforwards this tween to the end by triggering an update with an infinite value.\n\t * This will work even on paused tweens.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic end(endChainedTweens: boolean = false): this {\n\t\tlet protectedChainedTweens: Tween<any>[] = [];\n\n\t\tif (!endChainedTweens) {\n\t\t\tprotectedChainedTweens = this._chainedTweens;\n\t\t\tthis._chainedTweens = [];\n\t\t}\n\n\t\tthis.resume();\n\t\tthis.update(Infinity);\n\n\t\tif (!endChainedTweens) {\n\t\t\tthis._chainedTweens = protectedChainedTweens;\n\t\t\tfor (let i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\tthis._chainedTweens[i].start();\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @experimental\n\t * Skips forward the in the repeats of this tween by triggering a biiiiig update.\n\t * Think of this as a less agressive {@link Tween.end}.\n\t *\n\t * @param amount - The amount of repeats to skip.\n\t * @param resetCurrentLoop - If true, the time will become zero and the object will return to the initial value in the next update.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic skip(amount: number, resetCurrentLoop: boolean = false): this {\n\t\tthis.resume();\n\n\t\tthis.update(amount * this._duration - (resetCurrentLoop ? this._elapsedTime : 0));\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pauses this tween. Does nothing is if the tween was already paused or wasn't playing.\n\t * Paused tweens ignore all update calls.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic pause(): this {\n\t\tif (this._isPaused || !this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._isPaused = true;\n\n\t\tthis._group.remove(this);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Resumes this tween. Does nothing if the tween wasn't paused nor running.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic resume(): this {\n\t\tif (!this._isPaused || !this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._isPaused = false;\n\n\t\tthis._group.add(this);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @experimental\n\t * Stops tweens chained to this tween. To chain a tween see {@link Tween.chain}.\n\t *\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic stopChainedTweens(): this {\n\t\tfor (let i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].stop();\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @experimental\n\t * Starts all tweens chained to this tween. To chain a tween see {@link Tween.chain}.\n\t *\n\t * @param stopThis - If true, this tween will be stopped before it starts the chained tweens.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic startChainedTweens(stopThis: boolean = false): this {\n\t\tif (stopThis) {\n\t\t\tthis.stop();\n\t\t}\n\n\t\tfor (let i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].start();\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the {@link Group} for this tween.\n\t * @param group - the group for this tween. If undefined or null is given, the group will default to {@link Group.shared}.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic group(group: Group): this {\n\t\tthis._group = group;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the delay for this tween.\n\t *\n\t * This will only be applied at the start of the tween. For delaying the repeating of a tween, see {@link Tween.repeatDelay}\n\t *\n\t * **This will only work before calling {@link Tween.start}.**\n\t * @param amount - the delay for this tween.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic delay(amount: number): this {\n\t\tthis._delayTime = amount;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the timescale for this tween.\n\t * The deltaTime inside the update will be multiplied by this value allowing to speed up or slow down the flow of time.\n\t * @param multiplier - the timescale value for this tween.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic timescale(multiplier: number): this {\n\t\tthis._timescale = multiplier;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the number of times this tween will loop\n\t * @param times - the number of loops. For endless loops use `Infinity`\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic repeat(times: number = Infinity): this {\n\t\tthis._repeat = times;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the repeat delay for this tween.\n\t *\n\t * This will only be applied at the start of every repeat. For delaying only the start, see {@link Tween.delay}\n\t * @param amount - the repeat delay for this tween.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic repeatDelay(amount: number): this {\n\t\tthis._repeatDelayTime = amount;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets if this tween should yoyo (reflect) itself when repeating.\n\t * @param yoyo - the yoyo value for this tween.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic yoyo(yoyo: boolean = true): this {\n\t\tthis._yoyo = yoyo;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the easing function to interpolate the starting values with the final values.\n\t *\n\t * You can use the functions inside the {@link Easing} object.\n\t * @param easingFunction - a function that takes a number between 0 and 1 and returns another number between 0 and 1\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic easing(easingFunction: EasingFunction): this {\n\t\tthis._easingFunction = easingFunction;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @experimental\n\t * Sets the safety check function to test if the tweening object is still valid.\n\t * If the function returns a non-truthy value, the tween will skip the update loop.\n\t * @param safetyCheckFunction - a function that takes the target object for this tween and returns true if the object is still valid.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic safetyCheck(safetyCheckFunction: (target: Target) => boolean): this {\n\t\tthis._safetyCheckFunction = safetyCheckFunction;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @experimental\n\t * Sets the easing function to interpolate the starting values with the final values on the way back due to a yoyo tween.\n\t *\n\t * You can use the functions inside the {@link Easing} object.\n\t * @param easingFunction - a function that takes a number between 0 and 1 and returns another number between 0 and 1\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic yoyoEasing(easingFunction: EasingFunction): this {\n\t\tthis._yoyoEasingFunction = easingFunction;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the easing function to interpolate the starting values with the final values when the final value is an array of objects.\n\t * Use this to create bezier curves or interpolate colors.\n\t *\n\t * You can use the functions inside the {@link Interpolation} object.\n\t * @param interpolationFunction\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic interpolation(interpolationFunction: InterpolationFunction): this {\n\t\tthis._interpolationFunction = interpolationFunction;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds tweens to be called when this tween ends.\n\t * The tweens here will be called all at the same time.\n\t * @param tweens - tweens to be started when this tween ends\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic chain(...tweens: Array<Tween<any>>): this {\n\t\tthis._chainedTweens = tweens;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the onStart callback. This will be called as soon as you call {@link Tween.start}.\n\t * @param callback - the function to call on start. It will recieve the target object and this tween as a parameter.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic onStart(callback: (object: Target, tween: this) => void): this {\n\t\tthis._onStartCallback = callback;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the onAfterDelay callback. This will be called when the delay is over.\n\t * @param callback - the function to call on start. It will recieve the target object and this tween as a parameter.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic onAfterDelay(callback: (object: Target, tween: this) => void): this {\n\t\tthis._onAfterDelayCallback = callback;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the onStart callback\n\t * @param callback - the function to call on start. It will recieve the target object, this tween, and a number between 0 and 1 determining the progress as a parameter.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic onUpdate(callback: (object: Target, elapsed: number, tween: this) => void): this {\n\t\tthis._onUpdateCallback = callback;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the onRepeat callback\n\t * @param callback - the function to call on repeat. It will recieve the target object and this tween as a parameter.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic onRepeat(callback: (object: Target, repeatCount: number, tweenRef: this) => void): this {\n\t\tthis._onRepeatCallback = callback;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the onComplete callback\n\t * @param callback - the function to call on complete. It will recieve the target object and this tween as a parameter.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic onComplete(callback: (object: Target, tween: this) => void): this {\n\t\tthis._onCompleteCallback = callback;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the onStop callback\n\t * @param callback - the function to call on stop. It will recieve the target object and this tween as a parameter.\n\t * @returns returns this tween for daisy chaining methods.\n\t */\n\tpublic onStop(callback: (object: Target, tween: this) => void): this {\n\t\tthis._onStopCallback = callback;\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Updates this tween\n\t * @param deltaTime - the amount of time that passed since last update in **miliseconds**\n\t * @param preserve - Prevent the removal of stopped, paused, finished or non started tweens from their group.\n\t * @returns returns true if the tween hasn't finished yet.\n\t */\n\tpublic update(deltaTime: number, preserve: boolean = false): boolean {\n\t\tconst retval = this._internalUpdate(deltaTime);\n\t\tif (!retval && !preserve) {\n\t\t\tthis._group.remove(this);\n\t\t}\n\t\treturn retval;\n\t}\n\n\tprivate _internalUpdate(deltaTime: number): boolean {\n\t\tif (!this._safetyCheckFunction(this._object)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._isPaused) {\n\t\t\treturn false;\n\t\t}\n\n\t\tdeltaTime *= this._timescale;\n\n\t\tlet elapsed;\n\n\t\tthis._elapsedTime += deltaTime;\n\n\t\tconst endTime = this._duration;\n\t\tconst currentTime = this._startTime + this._elapsedTime;\n\n\t\tif (currentTime > endTime && !this._isPlaying) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the tween was already finished,\n\t\tif (!this.isPlaying) {\n\t\t\tthis.start();\n\t\t}\n\n\t\tif (this._onStartCallbackFired == false) {\n\t\t\tif (this._onStartCallback) {\n\t\t\t\tthis._onStartCallback(this._object, this);\n\t\t\t}\n\n\t\t\tthis._onStartCallbackFired = true;\n\t\t}\n\n\t\tif (this._onAfterDelayCallbackFired == false && currentTime >= 0) {\n\t\t\tif (this._onAfterDelayCallback) {\n\t\t\t\tthis._onAfterDelayCallback(this._object, this);\n\t\t\t}\n\n\t\t\tthis._onAfterDelayCallbackFired = true;\n\t\t}\n\n\t\telapsed = currentTime / this._duration;\n\t\t// zero duration makes elapsed a NaN. We need to fix this!\n\t\tif (this._duration == 0) {\n\t\t\t// positive currentTime means we have no delay to wait for!\n\t\t\tif (currentTime >= 0) {\n\t\t\t\telapsed = 1;\n\t\t\t} else {\n\t\t\t\telapsed = 0;\n\t\t\t}\n\t\t}\n\t\t// otherwise, clamp the result\n\t\telapsed = Math.min(1, elapsed);\n\t\telapsed = Math.max(0, elapsed);\n\n\t\tlet leftOverTime = Number.isFinite(currentTime) ? currentTime % this._duration : currentTime; // leftover time\n\t\tif (Number.isNaN(leftOverTime)) {\n\t\t\tleftOverTime = 0;\n\t\t}\n\t\tconst loopsMade = Math.floor(currentTime / this._duration); // if we overloop, how many loops did we eat?\n\n\t\t// check which easing to use...\n\t\tlet value: number;\n\t\tif (this._reversed && this._yoyoEasingFunction) {\n\t\t\tvalue = this._yoyoEasingFunction(elapsed);\n\t\t} else {\n\t\t\tvalue = this._easingFunction(elapsed);\n\t\t}\n\n\t\t// properties transformations\n\t\tthis._updateProperties(this._object, this._valuesStart, this._valuesEnd, value);\n\n\t\t// if there is absolutely no chance to loop, call update. we will be done.\n\t\tif (this._onUpdateCallback && (elapsed != 1 || this._repeat - this._repeatCount <= 0)) {\n\t\t\tthis._onUpdateCallback(this._object, elapsed, this);\n\t\t}\n\n\t\tif (elapsed == 1) {\n\t\t\tif (this._repeat - this._repeatCount > 0) {\n\t\t\t\t// increase loops\n\t\t\t\tconst oldCount = this._repeatCount;\n\t\t\t\tthis._repeatCount = Math.min(this._repeat + 1, this._repeatCount + loopsMade);\n\n\t\t\t\tif (this._onUpdateCallback && (this._repeat - this._repeatCount < 0 || leftOverTime <= 0)) {\n\t\t\t\t\tthis._onUpdateCallback(this._object, elapsed, this);\n\t\t\t\t}\n\n\t\t\t\t// fix starting values for yoyo or relative\n\t\t\t\tif (this._yoyo) {\n\t\t\t\t\tthis._swapEndStartRepeatValues(this._valuesStartRepeat, this._valuesEnd);\n\t\t\t\t} else {\n\t\t\t\t\tthis._moveForwardStartRepeatValues(this._valuesStartRepeat, this._valuesEnd);\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values\n\t\t\t\tthis._valuesStart = JSON.parse(JSON.stringify(this._valuesStartRepeat));\n\n\t\t\t\t// restart start time\n\t\t\t\tif (this._repeatDelayTime !== undefined) {\n\t\t\t\t\tthis._startTime = -this._repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\tthis._startTime = 0;\n\t\t\t\t}\n\n\t\t\t\tif (this._onRepeatCallback) {\n\t\t\t\t\t// We fallback to only one call.\n\t\t\t\t\tlet callbackCount: number = 1;\n\n\t\t\t\t\tif (Number.isFinite(loopsMade)) {\n\t\t\t\t\t\t// if we have a logical number of loops, we trigger the callback that many times\n\t\t\t\t\t\tcallbackCount = this._repeatCount - oldCount;\n\t\t\t\t\t} else if (Number.isFinite(this._repeat)) {\n\t\t\t\t\t\t// if the amount of loops is infinite, we trigger the callback the amount of loops remaining\n\t\t\t\t\t\tcallbackCount = this._repeat - oldCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0; i < callbackCount; i++) {\n\t\t\t\t\t\tthis._onRepeatCallback(this._object, oldCount + 1 + i, this);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._elapsedTime = 0; // reset the elapsed time\n\n\t\t\t\t// if we have more loops to go, then go\n\t\t\t\tif (this._repeat - this._repeatCount >= 0) {\n\t\t\t\t\t// update with the leftover time\n\t\t\t\t\tif (leftOverTime > 0 && Number.isFinite(this._repeat)) {\n\t\t\t\t\t\t// only if it is greater than 0 and do not emit onupdate events...\n\t\t\t\t\t\tthis._internalUpdate(leftOverTime);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we are here, either we are not a looping boi or we are a finished looping boi\n\t\t\tif (this._onCompleteCallback) {\n\t\t\t\tthis._onCompleteCallback(this._object, this);\n\t\t\t}\n\n\t\t\tfor (let i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t// even if the update method was called way past the duration of the tween\n\t\t\t\tthis._chainedTweens[i].start();\n\t\t\t\tif (leftOverTime > 0) {\n\t\t\t\t\tthis._chainedTweens[i].update(leftOverTime);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._isPlaying = false;\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate _updateProperties(_object: any, _valuesStart: any, _valuesEnd: any, value: number): void {\n\t\tfor (const property in _valuesEnd) {\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (_valuesStart[property] == undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst start = _valuesStart[property];\n\t\t\tlet end = _valuesEnd[property];\n\t\t\tconst startIsArray = Array.isArray(_object[property]);\n\t\t\tconst endIsArray = Array.isArray(end);\n\t\t\tconst isInterpolationList = !startIsArray && endIsArray;\n\n\t\t\tif (isInterpolationList) {\n\t\t\t\tif (this._reversed) {\n\t\t\t\t\t_object[property] = this._interpolationFunction(end.concat([start]) as Array<number>, value);\n\t\t\t\t} else {\n\t\t\t\t\t_object[property] = this._interpolationFunction([start].concat(end) as Array<number>, value);\n\t\t\t\t}\n\t\t\t} else if (typeof end == \"object\" && end) {\n\t\t\t\tthis._updateProperties(_object[property], start, end, value);\n\t\t\t} else {\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tend = this._handleRelativeValue(start as number, end as number | string);\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof end == \"number\" && (typeof start == \"number\" || typeof start == \"string\")) {\n\t\t\t\t\t// I am certain that start here won't anser NaN or it would have been filtrated on the setupProperties\n\t\t\t\t\t_object[property] = Number(start) + (end - Number(start)) * value;\n\n\t\t\t\t\t// if it was originally a string, we make it back to string. keep it tidy\n\t\t\t\t\tif (typeof start == \"string\") {\n\t\t\t\t\t\t_object[property] = String(_object[property]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _handleRelativeValue(start: number, end: number | string): number {\n\t\tif (typeof end !== \"string\") {\n\t\t\treturn end;\n\t\t}\n\n\t\tif (end.charAt(0) == \"+\" || end.charAt(0) == \"-\") {\n\t\t\treturn start + Number(end);\n\t\t}\n\n\t\treturn Number(end);\n\t}\n\n\tprivate _swapEndStartRepeatValues(_valuesStartRepeat: any, _valuesEnd: any): void {\n\t\tfor (const property in _valuesStartRepeat) {\n\t\t\tconst isInterpolationList = !Array.isArray(_valuesStartRepeat[property]) && Array.isArray(_valuesEnd[property]);\n\n\t\t\tif (typeof _valuesStartRepeat[property] == \"object\") {\n\t\t\t\tthis._swapEndStartRepeatValues(_valuesStartRepeat[property], _valuesEnd[property]);\n\t\t\t} else {\n\t\t\t\tconst tmp = _valuesStartRepeat[property];\n\t\t\t\tif (typeof _valuesEnd[property] == \"string\") {\n\t\t\t\t\t_valuesStartRepeat[property] = Number(_valuesStartRepeat[property]) + Number(_valuesEnd[property]);\n\t\t\t\t\t_valuesEnd[property] = tmp;\n\t\t\t\t} else if (isInterpolationList) {\n\t\t\t\t\tconst aux = _valuesEnd[property].slice().reverse();\n\t\t\t\t\t_valuesStartRepeat[property] = aux[0];\n\t\t\t\t\t_valuesEnd[property] = aux;\n\t\t\t\t} else {\n\t\t\t\t\t_valuesStartRepeat[property] = _valuesEnd[property];\n\t\t\t\t\t_valuesEnd[property] = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _moveForwardStartRepeatValues(_valuesStartRepeat: any, _valuesEnd: any): void {\n\t\tfor (const property in _valuesStartRepeat) {\n\t\t\tif (typeof _valuesEnd[property] == \"object\") {\n\t\t\t\tthis._moveForwardStartRepeatValues(_valuesStartRepeat[property], _valuesEnd[property]);\n\t\t\t} else {\n\t\t\t\tif (typeof _valuesEnd[property] == \"string\") {\n\t\t\t\t\t_valuesStartRepeat[property] = Number(_valuesStartRepeat[property]) + Number(_valuesEnd[property]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * A recursive version of Typescript's Partial<> decorator.\n */\nexport type RecursivePartial<T> = {\n\t[P in keyof T]?: T[P] extends (infer U)[] ? RecursivePartial<U>[] : RecursivePartial<T[P]>;\n};\nexport default Tween;\n","/**\n * Constant with the hardcoded version of the app\n */\nexport const VERSION = \"2.0.1\";\n"],"names":["exports","NOW","self","process","hrtime","time","undefined","performance","now","bind","Date","getTime","Group","[object Object]","prototype","__init","call","this","__init2","__init3","__init4","_tweens","shared","_shared","_paused","_lastUpdateTime","Object","keys","map","tweenId","tween","getId","deltaTime","preserve","tweenIds","length","i","update","Easing","Step","None","amount","Linear","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Math","cos","PI","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","Interpolation","Geom","v","k","m","f","floor","fn","Utils","b","n","pw","bn","Bernstein","t","i0","i1","i2","i3","CatmullRom","Angle","WrapLinear","Color","RGBLinear","HSVLinear","HCLLinear","RGBsplit","color","a","r","g","rgb","max","min","h","d","p","q","RGB","HCL","c","l","H","U","V","Q","HCLgamma","atan2","exp","C","L","A","T","tan","value1","value2","maxValue","retval","trunc","abs","color1","color2","argb1","argb2","ahsv1","HSVsplit","ahsv2","HSVJoin","ahcl1","HCLSplit","ahcl2","p0","p1","fc","Factorial","p2","p3","v0","v1","t2","Sequence","_nextId","__initStatic","Tween","_isPaused","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeatCount","_repeat","_yoyo","_isPlaying","_reversed","yoyo","_delayTime","_startTime","_elapsedTime","_timescale","_safetyCheckFunction","_","_easingFunction","_yoyoEasingFunction","_interpolationFunction","_chainedTweens","_onStartCallbackFired","_onAfterDelayCallbackFired","_id","nextId","_isChainStopped","_group","_groupRef","value","object","group","__init5","__init6","__init7","__init8","__init9","__init10","__init11","__init12","__init13","__init14","__init15","__init16","__init17","__init18","__init19","__init20","__init21","__init22","_object","properties","JSON","stringify","e","Error","_setupProperties","duration","parse","console","warn","dynamicTo","delay","add","_swapEndStartRepeatValues","reset","start","stop","_updateProperties","overwrite","property","startValue","startValueIsArray","Array","isArray","startValueIsNumber","Number","isNaN","propType","startValueIsObject","endValueIsObject","isInterpolationList","slice","reverse","stopChainedTweens","remove","_onStopCallback","endChainedTweens","protectedChainedTweens","resume","Infinity","numChainedTweens","resetCurrentLoop","stopThis","multiplier","times","_repeatDelayTime","easingFunction","safetyCheckFunction","interpolationFunction","tweens","callback","_onStartCallback","_onAfterDelayCallback","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_internalUpdate","elapsed","endTime","currentTime","isPlaying","leftOverTime","isFinite","loopsMade","oldCount","_moveForwardStartRepeatValues","callbackCount","end","startIsArray","endIsArray","concat","_handleRelativeValue","String","charAt","tmp","aux"],"mappings":"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"}