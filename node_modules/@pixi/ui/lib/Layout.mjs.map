{"version":3,"file":"Layout.mjs","sources":["../src/Layout.ts"],"sourcesContent":["import { Container } from '@pixi/display';\n\nexport type LayoutType = 'horizontal' | 'vertical';\n\nexport type LayoutOptions = {\n    elementsMargin?: number;\n    children?: Container[];\n    vertPadding?: number;\n    horPadding?: number;\n};\n\n/**\n * Container-based element for arranging Pixi containers based on their sizes.\n *\n * It is used inside elements with repeatable content, like {@link Select} or {@link ScrollBox}.\n * @example\n * ```\n * const layout = new Layout({\n *    children: [\n        new Graphics().beginFill(0x000000).drawRect(0, 0, 50, 50),\n        new Graphics().beginFill(0xFFFFFF).drawRect(0, 0, 50, 50),\n *    ],\n * });\n *\n * layout.addChild(new Graphics().beginFill(0x000000).drawRect(0, 0, 50, 50));\n * ```\n */\nexport class Layout extends Container\n{\n    private readonly options?: { type?: LayoutType } & LayoutOptions;\n\n    /** Container, that holds all inner elements. */\n    public view: Container;\n\n    /** Arrange direction. */\n    public type: LayoutType;\n\n    /** Returns all arranged elements. */\n    public override readonly children: Container[] = [];\n\n    constructor(options?: { type?: LayoutType } & LayoutOptions)\n    {\n        super();\n\n        this.options = options;\n\n        if (options?.type)\n        {\n            this.type = options.type;\n        }\n\n        if (options?.children)\n        {\n            options.children.map((child) => this.addChild(child));\n        }\n    }\n\n    protected override onChildrenChange()\n    {\n        let x = this.options?.horPadding ?? 0;\n        let y = this.options?.vertPadding ?? 0;\n\n        const elementsMargin = this.options?.elementsMargin ?? 0;\n\n        this.children.forEach((child) =>\n        {\n            if (!this.type && x + child.width >= this.parent.width)\n            {\n                y += elementsMargin + child.height;\n                x = this.options?.horPadding ?? 0;\n\n                child.x = x;\n                child.y = y;\n            }\n            else\n            {\n                child.x = x;\n                child.y = y;\n            }\n\n            switch (this.type)\n            {\n                case 'horizontal':\n                    x += elementsMargin + child.width;\n                    break;\n\n                case 'vertical':\n                    y += elementsMargin + child.height;\n                    break;\n\n                default:\n                    x += elementsMargin + child.width;\n                    break;\n            }\n        });\n    }\n}\n"],"names":[],"mappings":";;AA2BO,MAAM,eAAe,SAC5B,CAAA;AAAA,EAYI,YAAY,OACZ,EAAA;AACI,IAAM,KAAA,EAAA,CAAA;AAJV;AAAA,IAAA,IAAA,CAAyB,WAAwB,EAAC,CAAA;AAM9C,IAAA,IAAA,CAAK,OAAU,GAAA,OAAA,CAAA;AAEf,IAAA,IAAI,SAAS,IACb,EAAA;AACI,MAAA,IAAA,CAAK,OAAO,OAAQ,CAAA,IAAA,CAAA;AAAA,KACxB;AAEA,IAAA,IAAI,SAAS,QACb,EAAA;AACI,MAAA,OAAA,CAAQ,SAAS,GAAI,CAAA,CAAC,UAAU,IAAK,CAAA,QAAA,CAAS,KAAK,CAAC,CAAA,CAAA;AAAA,KACxD;AAAA,GACJ;AAAA,EAEmB,gBACnB,GAAA;AACI,IAAI,IAAA,CAAA,GAAI,IAAK,CAAA,OAAA,EAAS,UAAc,IAAA,CAAA,CAAA;AACpC,IAAI,IAAA,CAAA,GAAI,IAAK,CAAA,OAAA,EAAS,WAAe,IAAA,CAAA,CAAA;AAErC,IAAM,MAAA,cAAA,GAAiB,IAAK,CAAA,OAAA,EAAS,cAAkB,IAAA,CAAA,CAAA;AAEvD,IAAK,IAAA,CAAA,QAAA,CAAS,OAAQ,CAAA,CAAC,KACvB,KAAA;AACI,MAAI,IAAA,CAAC,KAAK,IAAQ,IAAA,CAAA,GAAI,MAAM,KAAS,IAAA,IAAA,CAAK,OAAO,KACjD,EAAA;AACI,QAAA,CAAA,IAAK,iBAAiB,KAAM,CAAA,MAAA,CAAA;AAC5B,QAAI,CAAA,GAAA,IAAA,CAAK,SAAS,UAAc,IAAA,CAAA,CAAA;AAEhC,QAAA,KAAA,CAAM,CAAI,GAAA,CAAA,CAAA;AACV,QAAA,KAAA,CAAM,CAAI,GAAA,CAAA,CAAA;AAAA,OAGd,MAAA;AACI,QAAA,KAAA,CAAM,CAAI,GAAA,CAAA,CAAA;AACV,QAAA,KAAA,CAAM,CAAI,GAAA,CAAA,CAAA;AAAA,OACd;AAEA,MAAA,QAAQ,KAAK,IACb;AAAA,QACI,KAAK,YAAA;AACD,UAAA,CAAA,IAAK,iBAAiB,KAAM,CAAA,KAAA,CAAA;AAC5B,UAAA,MAAA;AAAA,QAEJ,KAAK,UAAA;AACD,UAAA,CAAA,IAAK,iBAAiB,KAAM,CAAA,MAAA,CAAA;AAC5B,UAAA,MAAA;AAAA,QAEJ;AACI,UAAA,CAAA,IAAK,iBAAiB,KAAM,CAAA,KAAA,CAAA;AAC5B,UAAA,MAAA;AAAA,OACR;AAAA,KACH,CAAA,CAAA;AAAA,GACL;AACJ;;;;"}